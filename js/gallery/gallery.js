"use strict";function _typeof3(e){return(_typeof3="function"==typeof Symbol&&"symbol"===_typeof3(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof3(e)})(e)}!function(a){a.fn.navList=function(){var e=a(this);return $a=e.find("a"),b=[],$a.each(function(){var e=a(this),t=Math.max(0,e.parents("li").length-1),o=e.attr("href"),n=e.attr("target");b.push('<a class="link depth-'+t+'"'+(void 0!==n&&""!=n?' target="'+n+'"':"")+(void 0!==o&&""!=o?' href="'+o+'"':"")+'><span class="indent-'+t+'"></span>'+e.text()+"</a>")}),b.join("")},a.fn.panel=function(e){if(0==this.length)return s;if(1<this.length){for(var t=0;t<this.length;t++)a(this[t]).panel(e);return s}var s=a(this),o=a("body"),n=a(window),i=s.attr("id"),p=a.extend({delay:0,hideOnClick:!1,hideOnEscape:!1,hideOnSwipe:!1,resetScroll:!1,resetForms:!1,side:null,target:s,visibleClass:"visible"},e);return"jQuery"!=typeof p.target&&(p.target=a(p.target)),s._hide=function(e){p.target.hasClass(p.visibleClass)&&(e&&(e.preventDefault(),e.stopPropagation()),p.target.removeClass(p.visibleClass),window.setTimeout(function(){p.resetScroll&&s.scrollTop(0),p.resetForms&&s.find("form").each(function(){this.reset()})},p.delay))},s.css("-ms-overflow-style","-ms-autohiding-scrollbar").css("-webkit-overflow-scrolling","touch"),p.hideOnClick&&(s.find("a").css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),s.on("click","a",function(e){var t=a(this),o=t.attr("href"),n=t.attr("target");o&&"#"!=o&&""!=o&&o!="#"+i&&(e.preventDefault(),e.stopPropagation(),s._hide(),window.setTimeout(function(){"_blank"==n?window.open(o):window.location.href=o},p.delay+10))})),s.on("touchstart",function(e){s.touchPosX=e.originalEvent.touches[0].pageX,s.touchPosY=e.originalEvent.touches[0].pageY}),s.on("touchmove",function(e){if(null!==s.touchPosX&&null!==s.touchPosY){var t=s.touchPosX-e.originalEvent.touches[0].pageX,o=s.touchPosY-e.originalEvent.touches[0].pageY,n=s.outerHeight(),i=s.get(0).scrollHeight-s.scrollTop();if(p.hideOnSwipe){var a=!1,r=20;switch(p.side){case"left":a=o<r&&-20<o&&50<t;break;case"right":a=o<r&&-20<o&&t<-50;break;case"top":a=t<r&&-20<t&&50<o;break;case"bottom":a=t<r&&-20<t&&o<-50}if(a)return s.touchPosX=null,s.touchPosY=null,s._hide(),!1}(s.scrollTop()<0&&o<0||n-2<i&&i<n+2&&0<o)&&(e.preventDefault(),e.stopPropagation())}}),s.on("click touchend touchstart touchmove",function(e){e.stopPropagation()}),s.on("click",'a[href="#'+i+'"]',function(e){e.preventDefault(),e.stopPropagation(),p.target.removeClass(p.visibleClass)}),o.on("click touchend",function(e){s._hide(e)}),o.on("click",'a[href="#'+i+'"]',function(e){e.preventDefault(),e.stopPropagation(),p.target.toggleClass(p.visibleClass)}),p.hideOnEscape&&n.on("keydown",function(e){27==e.keyCode&&s._hide(e)}),s},a.fn.placeholder=function(){if(void 0!==document.createElement("input").placeholder)return a(this);if(0==this.length)return t;if(1<this.length){for(var e=0;e<this.length;e++)a(this[e]).placeholder();return t}var t=a(this);return t.find("input[type=text],textarea").each(function(){var e=a(this);""!=e.val()&&e.val()!=e.attr("placeholder")||e.addClass("polyfill-placeholder").val(e.attr("placeholder"))}).on("blur",function(){var e=a(this);e.attr("name").match(/-polyfill-field$/)||""==e.val()&&e.addClass("polyfill-placeholder").val(e.attr("placeholder"))}).on("focus",function(){var e=a(this);e.attr("name").match(/-polyfill-field$/)||e.val()==e.attr("placeholder")&&e.removeClass("polyfill-placeholder").val("")}),t.find("input[type=password]").each(function(){var t=a(this),o=a(a("<div>").append(t.clone()).remove().html().replace(/type="password"/i,'type="text"').replace(/type=password/i,"type=text"));""!=t.attr("id")&&o.attr("id",t.attr("id")+"-polyfill-field"),""!=t.attr("name")&&o.attr("name",t.attr("name")+"-polyfill-field"),o.addClass("polyfill-placeholder").val(o.attr("placeholder")).insertAfter(t),(""==t.val()?t:o).hide(),t.on("blur",function(e){e.preventDefault();e=t.parent().find("input[name="+t.attr("name")+"-polyfill-field]");""==t.val()&&(t.hide(),e.show())}),o.on("focus",function(e){e.preventDefault();e=o.parent().find("input[name="+o.attr("name").replace("-polyfill-field","")+"]");o.hide(),e.show().focus()}).on("keypress",function(e){e.preventDefault(),o.val("")})}),t.on("submit",function(){t.find("input[type=text],input[type=password],textarea").each(function(e){var t=a(this);t.attr("name").match(/-polyfill-field$/)&&t.attr("name",""),t.val()==t.attr("placeholder")&&(t.removeClass("polyfill-placeholder"),t.val(""))})}).on("reset",function(e){e.preventDefault(),t.find("select").val(a("option:first").val()),t.find("input,textarea").each(function(){var e,t=a(this);switch(t.removeClass("polyfill-placeholder"),this.type){case"submit":case"reset":break;case"password":t.val(t.attr("defaultValue")),e=t.parent().find("input[name="+t.attr("name")+"-polyfill-field]"),""==t.val()?(t.hide(),e.show()):(t.show(),e.hide());break;case"checkbox":case"radio":t.attr("checked",t.attr("defaultValue"));break;case"text":case"textarea":t.val(t.attr("defaultValue")),""==t.val()&&(t.addClass("polyfill-placeholder"),t.val(t.attr("placeholder")));break;default:t.val(t.attr("defaultValue"))}})}),t},a.prioritize=function(e,n){var i="__prioritize";(e="jQuery"!=typeof e?a(e):e).each(function(){var e,t=a(this),o=t.parent();0!=o.length&&(t.data(i)?n||(e=t.data(i),t.insertAfter(e),t.removeData(i)):n&&0!=(e=t.prev()).length&&(t.prependTo(o),t.data(i,e)))})}}(jQuery);var skel=function(){var m={breakpointIds:null,events:{},isInit:!1,obj:{attachments:{},breakpoints:{},head:null,states:{}},sd:"/",state:null,stateHandlers:{},stateId:"",vars:{},DOMReady:null,indexOf:null,isArray:null,iterate:null,matchesMedia:null,extend:function(t,o){m.iterate(o,function(e){m.isArray(o[e])?(m.isArray(t[e])||(t[e]=[]),m.extend(t[e],o[e])):"object"==_typeof3(o[e])?("object"!=_typeof3(t[e])&&(t[e]={}),m.extend(t[e],o[e])):t[e]=o[e]})},newStyle:function(e){var t=document.createElement("style");return t.type="text/css",t.innerHTML=e,t},_canUse:null,canUse:function(e){m._canUse||(m._canUse=document.createElement("div"));var t=m._canUse.style,o=e.charAt(0).toUpperCase()+e.slice(1);return e in t||"Moz"+o in t||"Webkit"+o in t||"O"+o in t||"ms"+o in t},on:function(e,n){var i=e.split(/[\s]+/);return m.iterate(i,function(e){var t=i[e];if(m.isInit){if("init"==t)return void n();if("change"==t)n();else{var o=t.charAt(0);if("+"==o||"!"==o){e=t.substring(1);if(e in m.obj.breakpoints)if("+"==o&&m.obj.breakpoints[e].active)n();else if("!"==o&&!m.obj.breakpoints[e].active)return void n()}}}m.events[t]||(m.events[t]=[]),m.events[t].push(n)}),m},trigger:function(t){return m.events[t]&&0!=m.events[t].length?(m.iterate(m.events[t],function(e){m.events[t][e]()}),m):void 0},breakpoint:function(e){return m.obj.breakpoints[e]},breakpoints:function(t){function o(e,t){this.name=this.id=e,this.media=t,this.active=!1,this.wasActive=!1}return o.prototype.matches=function(){return m.matchesMedia(this.media)},o.prototype.sync=function(){this.wasActive=this.active,this.active=this.matches()},m.iterate(t,function(e){m.obj.breakpoints[e]=new o(e,t[e])}),window.setTimeout(function(){m.poll()},0),m},addStateHandler:function(e,t){m.stateHandlers[e]=t},callStateHandler:function(e){var t=m.stateHandlers[e]();m.iterate(t,function(e){m.state.attachments.push(t[e])})},changeState:function(e){m.iterate(m.obj.breakpoints,function(e){m.obj.breakpoints[e].sync()}),m.vars.lastStateId=m.stateId,m.stateId=e,m.breakpointIds=m.stateId===m.sd?[]:m.stateId.substring(1).split(m.sd),m.obj.states[m.stateId]?m.state=m.obj.states[m.stateId]:(m.obj.states[m.stateId]={attachments:[]},m.state=m.obj.states[m.stateId],m.iterate(m.stateHandlers,m.callStateHandler)),m.detachAll(m.state.attachments),m.attachAll(m.state.attachments),m.vars.stateId=m.stateId,m.vars.state=m.state,m.trigger("change"),m.iterate(m.obj.breakpoints,function(e){m.obj.breakpoints[e].active?m.obj.breakpoints[e].wasActive||m.trigger("+"+e):m.obj.breakpoints[e].wasActive&&m.trigger("-"+e)})},generateStateConfig:function(e,t){var o={};return m.extend(o,e),m.iterate(m.breakpointIds,function(e){m.extend(o,t[m.breakpointIds[e]])}),o},getStateId:function(){var t="";return m.iterate(m.obj.breakpoints,function(e){e=m.obj.breakpoints[e];e.matches()&&(t+=m.sd+e.id)}),t},poll:function(){var e="";(e=""===(e=m.getStateId())?m.sd:e)!==m.stateId&&m.changeState(e)},_attach:null,attach:function(e){var t=m.obj.head,o=e.element;return(!o.parentNode||!o.parentNode.tagName)&&(m._attach||(m._attach=t.firstChild),t.insertBefore(o,m._attach.nextSibling),e.permanent&&(m._attach=o),!0)},attachAll:function(t){var o=[];m.iterate(t,function(e){o[t[e].priority]||(o[t[e].priority]=[]),o[t[e].priority].push(t[e])}),o.reverse(),m.iterate(o,function(t){m.iterate(o[t],function(e){m.attach(o[t][e])})})},detach:function(e){var t=e.element;return!(e.permanent||!t.parentNode||t.parentNode&&!t.parentNode.tagName)&&(t.parentNode.removeChild(t),!0)},detachAll:function(t){var o={};m.iterate(t,function(e){o[t[e].id]=!0}),m.iterate(m.obj.attachments,function(e){e in o||m.detach(m.obj.attachments[e])})},attachment:function(e){return e in m.obj.attachments?m.obj.attachments[e]:null},newAttachment:function(e,t,o,n){return m.obj.attachments[e]={id:e,element:t,priority:o,permanent:n}},init:function(){m.initMethods(),m.initVars(),m.initEvents(),m.obj.head=document.getElementsByTagName("head")[0],m.isInit=!0,m.trigger("init")},initEvents:function(){m.on("resize",function(){m.poll()}),m.on("orientationChange",function(){m.poll()}),m.DOMReady(function(){m.trigger("ready")}),window.onload&&m.on("load",window.onload),window.onload=function(){m.trigger("load")},window.onresize&&m.on("resize",window.onresize),window.onresize=function(){m.trigger("resize")},window.onorientationchange&&m.on("orientationChange",window.onorientationchange),window.onorientationchange=function(){m.trigger("orientationChange")}},initMethods:function(){function e(e){for(d=1;e=n.shift();)e()}var o,t,n,i,a,r,s,p,c,l,d,u,h,f,g,v;document.addEventListener?m.DOMReady=(h=[],f=document,g="DOMContentLoaded",v=/^loaded|^c/.test(f.readyState),f.addEventListener(g,u=function(){f.removeEventListener(g,u),function(e){for(v=1;e=h.shift();)e()}()}),function(e){v?e():h.push(e)}):m.DOMReady=(n=[],i=document,a=i.documentElement,r=a.doScroll,s="DOMContentLoaded",p="addEventListener",c="onreadystatechange",d=(r?/^loaded|^c/:/^loaded|c/).test(i[l="readyState"]),i[p]&&i[p](s,t=function(){i.removeEventListener(s,t,!1),e()},!1),r&&i.attachEvent(c,t=function(){/^c/.test(i[l])&&(i.detachEvent(c,t),e())}),o=r?function(t){self!=top?d?t():n.push(t):function(){try{a.doScroll("left")}catch(e){return setTimeout(function(){o(t)},50)}t()}()}:function(e){d?e():n.push(e)}),Array.prototype.indexOf?m.indexOf=function(e,t){return e.indexOf(t)}:m.indexOf=function(e,t){if("string"==typeof e)return e.indexOf(t);var o,n,t=t||0;if(!this)throw new TypeError;if(0===(n=this.length)||n<=t)return-1;for(o=t=t<0?n-Math.abs(t):t;o<n;o++)if(this[o]===e)return o;return-1},Array.isArray?m.isArray=function(e){return Array.isArray(e)}:m.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},Object.keys?m.iterate=function(e,t){if(!e)return[];for(var o=Object.keys(e),n=0;o[n]&&!1!==t(o[n],e[o[n]]);n++);}:m.iterate=function(e,t){if(!e)return[];for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&!1===t(o,e[o]))break},window.matchMedia?m.matchesMedia=function(e){return""==e||window.matchMedia(e).matches}:window.styleMedia||window.media?m.matchesMedia=function(e){return""==e||(window.styleMedia||window.media).matchMedium(e||"all")}:window.getComputedStyle?m.matchesMedia=function(e){if(""==e)return!0;var t=document.createElement("style"),o=document.getElementsByTagName("script")[0];t.type="text/css",t.id="matchmediajs-test",o.parentNode.insertBefore(t,o);var n="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=e:t.textContent=e,"1px"===n.width}:m.matchesMedia=function(e){if(""==e)return!0;for(var t,o={"min-width":null,"max-width":null},n=!1,i=e.split(/\s+and\s+/),a=0;a<i.length;a++)"("==(t=i[a]).charAt(0)&&(2==(t=(t=t.substring(1,t.length-1)).split(/:\s+/)).length&&(o[t[0].replace(/^\s+|\s+$/g,"")]=parseInt(t[1]),n=!0));if(!n)return!1;var r=document.documentElement.clientWidth,e=document.documentElement.clientHeight;return!(null!==o["min-width"]&&r<o["min-width"]||null!==o["max-width"]&&r>o["max-width"]||null!==o["min-height"]&&e<o["min-height"]||null!==o["max-height"]&&e>o["max-height"])},navigator.userAgent.match(/MSIE ([0-9]+)/)&&RegExp.$1<9&&(m.newStyle=function(e){var t=document.createElement("span");return t.innerHTML='&nbsp;<style type="text/css">'+e+"</style>",t})},initVars:function(){var o=navigator.userAgent,n="other",i=0,e=[["firefox",/Firefox\/([0-9\.]+)/],["bb",/BlackBerry.+Version\/([0-9\.]+)/],["bb",/BB[0-9]+.+Version\/([0-9\.]+)/],["opera",/OPR\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)/],["edge",/Edge\/([0-9\.]+)/],["safari",/Version\/([0-9\.]+).+Safari/],["chrome",/Chrome\/([0-9\.]+)/],["ie",/MSIE ([0-9]+)/],["ie",/Trident\/.+rv:([0-9]+)/]];m.iterate(e,function(e,t){return o.match(t[1])?(n=t[0],i=parseFloat(RegExp.$1),!1):void 0}),m.vars.browser=n,m.vars.browserVersion=i,n="other",i=0,m.iterate([["ios",/([0-9_]+) like Mac OS X/,function(e){return e.replace("_",".").replace("_","")}],["ios",/CPU like Mac OS X/,function(e){return 0}],["wp",/Windows Phone ([0-9\.]+)/,null],["android",/Android ([0-9\.]+)/,null],["mac",/Macintosh.+Mac OS X ([0-9_]+)/,function(e){return e.replace("_",".").replace("_","")}],["windows",/Windows NT ([0-9\.]+)/,null],["bb",/BlackBerry.+Version\/([0-9\.]+)/,null],["bb",/BB[0-9]+.+Version\/([0-9\.]+)/,null]],function(e,t){return o.match(t[1])?(n=t[0],i=parseFloat(t[2]?t[2](RegExp.$1):RegExp.$1),!1):void 0}),m.vars.os=n,m.vars.osVersion=i,m.vars.IEVersion="ie"==m.vars.browser?m.vars.browserVersion:99,m.vars.touch="wp"==m.vars.os?0<navigator.msMaxTouchPoints:!!("ontouchstart"in window),m.vars.mobile="wp"==m.vars.os||"android"==m.vars.os||"ios"==m.vars.os||"bb"==m.vars.os}};return m.init(),m}();!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==("undefined"==typeof exports?"undefined":_typeof3(exports))?module.exports=skel:e.skel=skel}(void 0,function(){return skel}),function(a){skel.breakpoints({xlarge:"(max-width: 1680px)",large:"(max-width: 1280px)",medium:"(max-width: 980px)",small:"(max-width: 736px)",xsmall:"(max-width: 480px)"}),a(function(){var e,t=a(window),o=a("body");a("#wrapper"),skel.vars.IEVersion<12&&o.addClass("ie"),skel.vars.mobile&&o.addClass("touch"),skel.canUse("transition")&&(o.addClass("loading"),t.on("load",function(){window.setTimeout(function(){o.removeClass("loading")},100)}),t.on("resize",function(){window.clearTimeout(e),o.addClass("resizing"),e=window.setTimeout(function(){o.removeClass("resizing")},100)})),t.scrollTop(0),a("form").placeholder();var n=a(".panel");n.each(function(){var t=a(this),e=a('[href="#'+t.attr("id")+'"]');a('<div class="closer" />').appendTo(t).on("click",function(e){t.trigger("---hide")}),t.on("click",function(e){e.stopPropagation()}).on("---toggle",function(){t.hasClass("active")?t.triggerHandler("---hide"):t.triggerHandler("---show")}).on("---show",function(){o.hasClass("content-active")&&n.trigger("---hide"),t.addClass("active"),e.addClass("active"),o.addClass("content-active")}).on("---hide",function(){t.removeClass("active"),e.removeClass("active"),o.removeClass("content-active")}),e.removeAttr("href").css("cursor","pointer").on("click",function(e){e.preventDefault(),e.stopPropagation(),t.trigger("---toggle")})}),o.on("click",function(e){o.hasClass("content-active")&&(e.preventDefault(),e.stopPropagation(),n.trigger("---hide"))}),t.on("keyup",function(e){27==e.keyCode&&o.hasClass("content-active")&&(e.preventDefault(),e.stopPropagation(),n.trigger("---hide"))}),a("#header").find("a").each(function(){var e=a(this),t=e.attr("href");t&&"#"!=t.charAt(0)&&e.removeAttr("href").css("cursor","pointer").on("click",function(e){e.preventDefault(),e.stopPropagation(),window.location.href=t})}),a("#footer").find(".copyright").each(function(){var e=a(this),t=e.parent(),o=t.parent().children().last();skel.on("+medium",function(){e.appendTo(o)}).on("-medium",function(){e.appendTo(t)})});var i=a("#main");i.children(".thumb").each(function(){var e,t=a(this),o=t.find(".image"),n=o.children("img");0!=o.length&&((e=n.data("position"))&&o.css("background-position",e),n.hide(),skel.vars.IEVersion<11&&t.css("cursor","pointer").on("click",function(){o.trigger("click")}))}),i.poptrox({baseZIndex:2e4,caption:function(e){var t="";return e.nextAll().each(function(){t+=this.outerHTML}),t},fadeSpeed:300,onPopupClose:function(){o.removeClass("modal-active")},onPopupOpen:function(){o.addClass("modal-active")},overlayOpacity:0,popupCloserText:"",popupHeight:150,popupLoaderText:"",popupSpeed:300,popupWidth:150,selector:".thumb > a.image",usePopupCaption:!0,usePopupCloser:!0,usePopupDefaultStyling:!1,usePopupForceClose:!0,usePopupLoader:!0,usePopupNav:!0,windowMargin:50}),skel.on("-xsmall",function(){i[0]._poptrox.windowMargin=50}).on("+xsmall",function(){i[0]._poptrox.windowMargin=0})})}(jQuery),function(j){j.fn.poptrox_disableSelection=function(){return j(this).css("user-select","none").css("-khtml-user-select","none").css("-moz-user-select","none").css("-o-user-select","none").css("-webkit-user-select","none")},j.fn.poptrox=function(e){function a(){o=j(window).width(),n=j(window).height()+s.windowHeightPad;var e=Math.abs(g.width()-g.outerWidth()),t=Math.abs(g.height()-g.outerHeight()),e=(b.width(),b.height(),o-2*s.windowMargin-e),t=n-2*s.windowMargin-t;g.css("min-width",s.popupWidth).css("min-height",s.popupHeight),w.children().css("max-width",e).css("max-height",t)}if(0==this.length)return j(this);if(1<this.length){for(var t=0;t<this.length;t++)j(this[t]).poptrox(e);return j(this)}var o,n,s=j.extend({preload:!1,baseZIndex:1e3,fadeSpeed:300,overlayColor:"#000000",overlayOpacity:.6,overlayClass:"poptrox-overlay",windowMargin:50,windowHeightPad:0,selector:"a",caption:null,parent:"body",popupSpeed:300,popupWidth:200,popupHeight:100,popupIsFixed:!1,useBodyOverflow:!1,usePopupEasyClose:!0,usePopupForceClose:!1,usePopupLoader:!0,usePopupCloser:!0,usePopupCaption:!1,usePopupNav:!1,usePopupDefaultStyling:!0,popupBackgroundColor:"#FFFFFF",popupTextColor:"#000000",popupLoaderTextSize:"2em",popupCloserBackgroundColor:"#000000",popupCloserTextColor:"#FFFFFF",popupCloserTextSize:"20px",popupPadding:10,popupCaptionHeight:60,popupCaptionTextSize:null,popupBlankCaptionText:"(untitled)",popupCloserText:"&#215;",popupLoaderText:"&bull;&bull;&bull;&bull;",popupClass:"poptrox-popup",popupSelector:null,popupLoaderSelector:".loader",popupCloserSelector:".closer",popupCaptionSelector:".caption",popupNavPreviousSelector:".nav-previous",popupNavNextSelector:".nav-next",onPopupClose:null,onPopupOpen:null},e),i=j(this),r=j("body"),p=j('<div class="'+s.overlayClass+'"></div>'),l=j(window),d=[],u=0,h=!1,f=new Array;s.usePopupLoader||(s.popupLoaderSelector=null),s.usePopupCloser||(s.popupCloserSelector=null),s.usePopupCaption||(s.popupCaptionSelector=null),s.usePopupNav||(s.popupNavPreviousSelector=null,s.popupNavNextSelector=null);var g,v,m,w=(g=j(s.popupSelector||'<div class="'+s.popupClass+'">'+(s.popupLoaderSelector?'<div class="loader">'+s.popupLoaderText+"</div>":"")+'<div class="pic"></div>'+(s.popupCaptionSelector?'<div class="caption"></div>':"")+(s.popupCloserSelector?'<span class="closer">'+s.popupCloserText+"</span>":"")+(s.popupNavPreviousSelector?'<div class="nav-previous"></div>':"")+(s.popupNavNextSelector?'<div class="nav-next"></div>':"")+"</div>")).find(".pic"),b=j(),y=g.find(s.popupLoaderSelector),x=g.find(s.popupCaptionSelector),C=g.find(s.popupCloserSelector),k=g.find(s.popupNavNextSelector),S=g.find(s.popupNavPreviousSelector),P=k.add(S);return s.usePopupDefaultStyling&&(g.css("background",s.popupBackgroundColor).css("color",s.popupTextColor).css("padding",s.popupPadding+"px"),0<x.length&&(g.css("padding-bottom",s.popupCaptionHeight+"px"),x.css("position","absolute").css("left","0").css("bottom","0").css("width","100%").css("text-align","center").css("height",s.popupCaptionHeight+"px").css("line-height",s.popupCaptionHeight+"px"),s.popupCaptionTextSize&&x.css("font-size",popupCaptionTextSize)),0<C.length&&C.html(s.popupCloserText).css("font-size",s.popupCloserTextSize).css("background",s.popupCloserBackgroundColor).css("color",s.popupCloserTextColor).css("display","block").css("width","40px").css("height","40px").css("line-height","40px").css("text-align","center").css("position","absolute").css("text-decoration","none").css("outline","0").css("top","0").css("right","-40px"),0<y.length&&y.html("").css("position","relative").css("font-size",s.popupLoaderTextSize).on("startSpinning",function(e){var t=j("<div>"+s.popupLoaderText+"</div>");t.css("height",Math.floor(s.popupHeight/2)+"px").css("overflow","hidden").css("line-height",Math.floor(s.popupHeight/2)+"px").css("text-align","center").css("margin-top",Math.floor((g.height()-t.height()+(0<x.length?x.height():0))/2)).css("color",s.popupTextColor||"").on("xfin",function(){t.fadeTo(300,.5,function(){t.trigger("xfout")})}).on("xfout",function(){t.fadeTo(300,.05,function(){t.trigger("xfin")})}).trigger("xfin"),y.append(t)}).on("stopSpinning",function(e){y.find("div").remove()}),2==P.length)&&(P.css("font-size","75px").css("text-align","center").css("color","#fff").css("text-shadow","none").css("height","100%").css("position","absolute").css("top","0").css("opacity","0.35").css("cursor","pointer").css("box-shadow","inset 0px 0px 10px 0px rgba(0,0,0,0)").poptrox_disableSelection(),m=s.usePopupEasyClose?v="100px":(v="75%","25%"),k.css("right","0").css("width",v).html('<div style="position: absolute; height: 100px; width: 125px; top: 50%; right: 0; margin-top: -50px;">&gt;</div>'),S.css("left","0").css("width",m).html('<div style="position: absolute; height: 100px; width: 125px; top: 50%; left: 0; margin-top: -50px;">&lt;</div>')),l.on("resize orientationchange",function(){a()}),x.on("update",function(e,t){t&&0!=t.length||(t=s.popupBlankCaptionText),x.html(t)}),C.css("cursor","pointer").on("click",function(e){return e.preventDefault(),e.stopPropagation(),g.trigger("poptrox_close"),!0}),k.on("click",function(e){e.stopPropagation(),e.preventDefault(),g.trigger("poptrox_next")}),S.on("click",function(e){e.stopPropagation(),e.preventDefault(),g.trigger("poptrox_previous")}),p.css("position","fixed").css("left",0).css("top",0).css("z-index",s.baseZIndex).css("width","100%").css("height","100%").css("text-align","center").css("cursor","pointer").appendTo(s.parent).prepend('<div style="display:inline-block;height:100%;vertical-align:middle;"></div>').append('<div style="position:absolute;left:0;top:0;width:100%;height:100%;background:'+s.overlayColor+";opacity:"+s.overlayOpacity+";filter:alpha(opacity="+100*s.overlayOpacity+');"></div>').hide().on("touchmove",function(e){return!1}).on("click",function(e){e.preventDefault(),e.stopPropagation(),g.trigger("poptrox_close")}),g.css("display","inline-block").css("vertical-align","middle").css("position","relative").css("z-index",1).css("cursor","auto").appendTo(p).hide().on("poptrox_next",function(){var e=u+1;e>=d.length&&(e=0),g.trigger("poptrox_switch",[e])}).on("poptrox_previous",function(){var e=u-1;e<0&&(e=d.length-1),g.trigger("poptrox_switch",[e])}).on("poptrox_reset",function(){a(),g.data("width",s.popupWidth).data("height",s.popupHeight),y.hide().trigger("stopSpinning"),x.hide(),C.hide(),P.hide(),w.hide(),b.attr("src","").detach()}).on("poptrox_open",function(e,t){return!!h||(h=!0,s.useBodyOverflow&&r.css("overflow","hidden"),s.onPopupOpen&&s.onPopupOpen(),g.addClass("loading"),void p.fadeTo(s.fadeSpeed,1,function(){g.trigger("poptrox_switch",[t,!0])}))}).on("poptrox_switch",function(e,n,t){var i,o;return!(t||!h)||(h=!0,g.addClass("loading").css("width",g.data("width")).css("height",g.data("height")),x.hide(),b.attr("src")&&b.attr("src",""),b.detach(),i=d[n],(b=i.object).off("load"),w.css("text-indent","-9999px").show().append(b),"ajax"==i.type?j.get(i.src,function(e){b.html(e),b.trigger("load")}):b.attr("src",i.src),"image"!=i.type&&(o=i.width,t=i.height,"%"==o.slice(-1)&&(o=parseInt(o.substring(0,o.length-1))/100*l.width()),"%"==t.slice(-1)&&(t=parseInt(t.substring(0,t.length-1))/100*l.height()),b.css("position","relative").css("outline","0").css("z-index",s.baseZIndex+100).width(o).height(t)),y.trigger("startSpinning").fadeIn(300),g.show(),s.popupIsFixed?(g.removeClass("loading").width(s.popupWidth).height(s.popupHeight),b.load(function(){b.off("load"),y.hide().trigger("stopSpinning"),x.trigger("update",[i.captionText]).fadeIn(s.fadeSpeed),C.fadeIn(s.fadeSpeed),w.css("text-indent",0).hide().fadeIn(s.fadeSpeed,function(){h=!1}),u=n,P.fadeIn(s.fadeSpeed)})):b.load(function(){a(),b.off("load"),y.hide().trigger("stopSpinning");function e(){x.trigger("update",[i.captionText]).fadeIn(s.fadeSpeed),C.fadeIn(s.fadeSpeed),w.css("text-indent",0).hide().fadeIn(s.fadeSpeed,function(){h=!1}),u=n,P.fadeIn(s.fadeSpeed),g.removeClass("loading").data("width",t).data("height",o).css("width","auto").css("height","auto")}var t=b.width(),o=b.height();t==g.data("width")&&o==g.data("height")?e():g.animate({width:t,height:o},s.popupSpeed,"swing",e)}),void("image"!=i.type&&b.trigger("load")))}).on("poptrox_close",function(){return!(!h||s.usePopupForceClose)||(h=!0,g.hide().trigger("poptrox_reset"),s.onPopupClose&&s.onPopupClose(),void p.fadeOut(s.fadeSpeed,function(){s.useBodyOverflow&&r.css("overflow","auto"),h=!1}))}).trigger("poptrox_reset"),s.usePopupEasyClose?(x.on("click","a",function(e){e.stopPropagation()}),g.css("cursor","pointer").on("click",function(e){e.stopPropagation(),e.preventDefault(),g.trigger("poptrox_close")})):g.on("click",function(e){e.stopPropagation()}),l.keydown(function(e){if(g.is(":visible"))switch(e.keyCode){case 37:case 32:if(s.usePopupNav)return g.trigger("poptrox_previous"),!1;break;case 39:if(s.usePopupNav)return g.trigger("poptrox_next"),!1;break;case 27:return g.trigger("poptrox_close"),!1}}),i.find(s.selector).each(function(t){var e=j(this),o=e.find("img"),n=e.data("poptrox");if("ignore"!=n&&e.attr("href")){var i,a,r={src:e.attr("href"),captionText:o.attr("title"),width:null,height:null,type:null,object:null,options:null};if(s.caption?"function"==typeof s.caption?c=s.caption(e):"selector"in s.caption&&(i=e.find(s.caption.selector),"attribute"in s.caption?c=i.attr(s.caption.attribute):(c=i.html(),!0===s.caption.remove&&i.remove())):c=o.attr("title"),r.captionText=c,n&&(0 in(n=n.split(","))&&(r.type=n[0]),1 in n&&((a=n[1].match(/([0-9%]+)x([0-9%]+)/))&&3==a.length&&(r.width=a[1],r.height=a[2])),2 in n&&(r.options=n[2])),!r.type)switch((a=!(a=r.src.match(/\/\/([a-z0-9\.]+)\/.*/))||a.length<2?[!1]:a)[1]){case"api.soundcloud.com":r.type="soundcloud";break;case"youtu.be":r.type="youtube";break;case"vimeo.com":r.type="vimeo";break;case"wistia.net":r.type="wistia";break;case"bcove.me":r.type="bcove";break;default:r.type="image"}switch(a=r.src.match(/\/\/[a-z0-9\.]+\/(.*)/),r.type){case"iframe":r.object=j('<iframe src="" frameborder="0"></iframe>'),r.object.on("click",function(e){e.stopPropagation()}).css("cursor","auto"),r.width&&r.height||(r.width="600",r.height="400");break;case"ajax":r.object=j('<div class="poptrox-ajax"></div>'),r.object.on("click",function(e){e.stopPropagation()}).css("cursor","auto").css("overflow","auto"),r.width&&r.height||(r.width="600",r.height="400");break;case"soundcloud":r.object=j('<iframe scrolling="no" frameborder="no" src=""></iframe>'),r.src="//w.soundcloud.com/player/?url="+escape(r.src)+(r.options?"&"+r.options:""),r.width="600",r.height="166";break;case"youtube":r.object=j('<iframe src="" frameborder="0" allowfullscreen="1"></iframe>'),r.src="//www.youtube.com/embed/"+a[1]+(r.options?"?"+r.options:""),r.width&&r.height||(r.width="800",r.height="480");break;case"vimeo":r.object=j('<iframe src="" frameborder="0" allowFullScreen="1"></iframe>'),r.src="//player.vimeo.com/video/"+a[1]+(r.options?"?"+r.options:""),r.width&&r.height||(r.width="800",r.height="480");break;case"wistia":r.object=j('<iframe src="" frameborder="0" allowFullScreen="1"></iframe>'),r.src="//fast.wistia.net/"+a[1]+(r.options?"?"+r.options:""),r.width&&r.height||(r.width="800",r.height="480");break;case"bcove":r.object=j('<iframe src="" frameborder="0" allowFullScreen="1" width="100%"></iframe>'),r.src="//bcove.me/"+a[1]+(r.options?"?"+r.options:""),r.width&&r.height||(r.width="640",r.height="360");break;default:r.object=j('<img src="" alt="" style="vertical-align:bottom" />'),s.preload&&((a=document.createElement("img")).src=r.src,f.push(a)),r.width=e.attr("width"),r.height=e.attr("height")}"file:"==window.location.protocol&&r.src.match(/^\/\//)&&(r.src="http:"+r.src),d.push(r),o.removeAttr("title"),e.removeAttr("href").css("cursor","pointer").css("outline",0).on("click",function(e){e.preventDefault(),e.stopPropagation(),g.trigger("poptrox_open",[t])})}}),i.prop("_poptrox",s),i}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==("undefined"==typeof exports?"undefined":_typeof3(exports))?module.exports=e(require("jquery")):e(jQuery)}(function(t){var a=t.event.dispatch||t.event.handle,r=t.event.special,i="D"+ +new Date,o="D"+(+new Date+1);r.scrollstart={setup:function(e){var o,n=t.extend({latency:r.scrollstop.latency},e),e=function(e){var t=arguments;o?clearTimeout(o):(e.type="scrollstart",a.apply(this,t)),o=setTimeout(function(){o=null},n.latency)};t(this).bind("scroll",e).data(i,e)},teardown:function(){t(this).unbind("scroll",t(this).data(i))}},r.scrollstop={latency:250,setup:function(e){var n,i=t.extend({latency:r.scrollstop.latency},e),e=function(e){var t=this,o=arguments;n&&clearTimeout(n),n=setTimeout(function(){n=null,e.type="scrollstop",a.apply(t,o)},i.latency)};t(this).bind("scroll",e).data(o,e)},teardown:function(){t(this).unbind("scroll",t(this).data(o))}}});